# docker-compose.yml for local deployment (see also tox.ini)

services:
  sonata-cell-position:
    container_name: sonata-cell-position
    build:
      dockerfile: Dockerfile
    ports:
    - "8050:8050"
    volumes:
    - type: bind
      source: /gpfs
      target: /gpfs
      read_only: true
    cap_add:
    - SYS_PTRACE
    environment:
    - DEBUG=true
    - LOGGING_LEVEL=DEBUG
  sonata-cell-position-proxy:
    container_name: sonata-cell-position-proxy
    build:
      context: proxy
      dockerfile: Dockerfile
    ports:
    - "8040:8040"
    depends_on:
    - sonata-cell-position
